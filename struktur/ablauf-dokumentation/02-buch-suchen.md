# 02 - Buch suchen

> **Szenario:** Ein Benutzer sucht nach BÃ¼chern Ã¼ber die Suchseite mit verschiedenen Filterkriterien.

---

## ğŸ”„ Ablauf-Diagramm

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. NAVIGATION: User klickt auf "Suche" in der Navigation                             â”‚
â”‚                                                                                      â”‚
â”‚    navbar.component.ts â†’ routerLink="/search"                                        â”‚
â”‚    Router navigiert zu SearchComponent                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. SEARCH COMPONENT: Initialisierung                                                 â”‚
â”‚                                                                                      â”‚
â”‚    search.component.ts:                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ ngOnInit() {                                                                 â”‚  â”‚
â”‚    â”‚     // Suchkriterien aus Query-Params lesen                                  â”‚  â”‚
â”‚    â”‚     this.route.queryParams.subscribe(params => {                             â”‚  â”‚
â”‚    â”‚         if (params['titel']) {                                               â”‚  â”‚
â”‚    â”‚             this.searchForm.patchValue({ titel: params['titel'] });          â”‚  â”‚
â”‚    â”‚             this.search();  // Automatisch suchen                            â”‚  â”‚
â”‚    â”‚         }                                                                    â”‚  â”‚
â”‚    â”‚     });                                                                      â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                      â”‚
â”‚    Suchformular (Reactive Form):                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ searchForm = this.fb.group({                                                 â”‚  â”‚
â”‚    â”‚     titel: [''],              // Freitext-Suche                              â”‚  â”‚
â”‚    â”‚     isbn: [''],               // ISBN-Suche                                  â”‚  â”‚
â”‚    â”‚     art: [''],                // DRUCKAUSGABE | KINDLE                       â”‚  â”‚
â”‚    â”‚     rating: [null],           // 0-5 Sterne                                  â”‚  â”‚
â”‚    â”‚     lieferbar: [false],       // Nur lieferbare                              â”‚  â”‚
â”‚    â”‚     schlagwoerter: [[]]       // Multi-Select Checkboxen                     â”‚  â”‚
â”‚    â”‚ });                                                                          â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. UI: Suchformular                                                                  â”‚
â”‚                                                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚  â”‚
â”‚    â”‚  â•‘  ğŸ” BÃ¼cher suchen                                                     â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  Titel:    [________________________]                                 â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  ISBN:     [________________________]                                 â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  Art:      â—‹ Alle  â—‹ Druckausgabe  â—‹ Kindle                          â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  Rating:   â˜† â˜† â˜† â˜† â˜†  (0-5)                                          â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  SchlagwÃ¶rter:                                                        â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  â˜‘ JavaScript  â˜ TypeScript  â˜ Java                                   â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  â˜ Nur lieferbare BÃ¼cher                                              â•‘  â”‚  â”‚
â”‚    â”‚  â•‘                                                                       â•‘  â”‚  â”‚
â”‚    â”‚  â•‘  [ğŸ” Suchen]  [âœ– ZurÃ¼cksetzen]                                        â•‘  â”‚  â”‚
â”‚    â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼ User klickt "Suchen"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. SEARCH-METHODE: Suchkriterien verarbeiten                                         â”‚
â”‚                                                                                      â”‚
â”‚    search.component.ts:                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ search(): void {                                                             â”‚  â”‚
â”‚    â”‚     this.isLoading = true;                                                   â”‚  â”‚
â”‚    â”‚     this.errorMsg = null;                                                    â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     // Leere Werte entfernen                                                 â”‚  â”‚
â”‚    â”‚     const criteria = Object.fromEntries(                                     â”‚  â”‚
â”‚    â”‚         Object.entries(this.searchForm.value)                                â”‚  â”‚
â”‚    â”‚             .filter(([_, v]) => v !== '' && v !== null && v !== false)       â”‚  â”‚
â”‚    â”‚     );                                                                       â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     this.api.search(criteria).subscribe({                                    â”‚  â”‚
â”‚    â”‚         next: (results) => {                                                 â”‚  â”‚
â”‚    â”‚             this.books = results;                                            â”‚  â”‚
â”‚    â”‚             this.isLoading = false;                                          â”‚  â”‚
â”‚    â”‚         },                                                                   â”‚  â”‚
â”‚    â”‚         error: (err) => {                                                    â”‚  â”‚
â”‚    â”‚             this.errorMsg = err.message;                                     â”‚  â”‚
â”‚    â”‚             this.isLoading = false;                                          â”‚  â”‚
â”‚    â”‚         }                                                                    â”‚  â”‚
â”‚    â”‚     });                                                                      â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. BUCH-API-SERVICE: GraphQL Query mit Variablen                                     â”‚
â”‚                                                                                      â”‚
â”‚    buch-api.service.ts:                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ search(criteria: SearchCriteria): Observable<Buch[]> {                       â”‚  â”‚
â”‚    â”‚     const variables = this.buildSearchVariables(criteria);                   â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     return this.http.post<GraphQLResponse>('/graphql', {                     â”‚  â”‚
â”‚    â”‚         query: `                                                             â”‚  â”‚
â”‚    â”‚             query BuecherSuche($spikeWerte: Spikevalue) {                    â”‚  â”‚
â”‚    â”‚                 buecher(spikeWerte: $spikeWerte) {                            â”‚  â”‚
â”‚    â”‚                     id                                                       â”‚  â”‚
â”‚    â”‚                     isbn                                                     â”‚  â”‚
â”‚    â”‚                     art                                                      â”‚  â”‚
â”‚    â”‚                     preis                                                    â”‚  â”‚
â”‚    â”‚                     rating                                                   â”‚  â”‚
â”‚    â”‚                     lieferbar                                                â”‚  â”‚
â”‚    â”‚                     schlagwoerter                                            â”‚  â”‚
â”‚    â”‚                     titel {                                                  â”‚  â”‚
â”‚    â”‚                         titel                                                â”‚  â”‚
â”‚    â”‚                         untertitel                                           â”‚  â”‚
â”‚    â”‚                     }                                                        â”‚  â”‚
â”‚    â”‚                     rabatt                                                   â”‚  â”‚
â”‚    â”‚                 }                                                            â”‚  â”‚
â”‚    â”‚             }                                                                â”‚  â”‚
â”‚    â”‚         `,                                                                   â”‚  â”‚
â”‚    â”‚         variables                                                            â”‚  â”‚
â”‚    â”‚     }).pipe(                                                                 â”‚  â”‚
â”‚    â”‚         map(res => res.data?.buecher ?? [])                                  â”‚  â”‚
â”‚    â”‚     );                                                                       â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                      â”‚
â”‚    GraphQL-Query (generiert):                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ POST /graphql                                                                â”‚  â”‚
â”‚    â”‚ {                                                                            â”‚  â”‚
â”‚    â”‚     "query": "query BuecherSuche($suchWerte: Suchkriterien) { ... }",        â”‚  â”‚
â”‚    â”‚     "variables": {                                                           â”‚  â”‚
â”‚    â”‚         "suchWerte": {                                                       â”‚  â”‚
â”‚    â”‚             "titel": "Angular",                                              â”‚  â”‚
â”‚    â”‚             "art": "DRUCKAUSGABE",                                           â”‚  â”‚
â”‚    â”‚             "rating": 4                                                      â”‚  â”‚
â”‚    â”‚         }                                                                    â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼  HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. PROXY: Request an Backend weiterleiten                                            â”‚
â”‚                                                                                      â”‚
â”‚    proxy.conf.json:                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ {                                                                            â”‚  â”‚
â”‚    â”‚     "/graphql": {                                                            â”‚  â”‚
â”‚    â”‚         "target": "https://localhost:3000",                                  â”‚  â”‚
â”‚    â”‚         "secure": false                                                      â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                      â”‚
â”‚    http://localhost:4200/graphql â†’ https://localhost:3000/graphql                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. BACKEND: GraphQL Resolver                                                         â”‚
â”‚                                                                                      â”‚
â”‚    src/buch/resolver/buch-query.resolver.ts:                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ @Query('buecher')                                                            â”‚  â”‚
â”‚    â”‚ async find(                                                                  â”‚  â”‚
â”‚    â”‚     @Args() { spikeWerte }: SuchkriterienInput                               â”‚  â”‚
â”‚    â”‚ ): Promise<Buch[]> {                                                         â”‚  â”‚
â”‚    â”‚     this.#logger.debug('find: suchKriterien=%o', suchKriterien);             â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     // Service-Aufruf mit Suchkriterien                                      â”‚  â”‚
â”‚    â”‚     const buecher = await this.#buchReadService.find(suchKriterien);         â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     return buecher;                                                          â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. BUCH-READ-SERVICE: Prisma Query aufbauen                                          â”‚
â”‚                                                                                      â”‚
â”‚    src/buch/service/buch-read-service.ts:                                            â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ async find(suchkriterien?: Suchkriterien): Promise<Buch[]> {                 â”‚  â”‚
â”‚    â”‚     this.#logger.debug('find: suchKriterien=%o', suchKriterien);             â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     // Where-Clause dynamisch aufbauen                                       â”‚  â”‚
â”‚    â”‚     const where: Prisma.BuchWhereInput = {};                                 â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     if (suchkriterien?.titel) {                                              â”‚  â”‚
â”‚    â”‚         where.titel = {                                                      â”‚  â”‚
â”‚    â”‚             titel: {                                                         â”‚  â”‚
â”‚    â”‚                 contains: suchkriterien.titel,                               â”‚  â”‚
â”‚    â”‚                 mode: 'insensitive'  // Case-insensitive                     â”‚  â”‚
â”‚    â”‚             }                                                                â”‚  â”‚
â”‚    â”‚         };                                                                   â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     if (suchkriterien?.rating) {                                             â”‚  â”‚
â”‚    â”‚         where.rating = { gte: suchkriterien.rating };                        â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     if (suchkriterien?.lieferbar) {                                          â”‚  â”‚
â”‚    â”‚         where.lieferbar = true;                                              â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚                                                                              â”‚  â”‚
â”‚    â”‚     return this.#prisma.buch.findMany({                                      â”‚  â”‚
â”‚    â”‚         where,                                                               â”‚  â”‚
â”‚    â”‚         include: { titel: true, abbildungen: true },                         â”‚  â”‚
â”‚    â”‚         orderBy: { titel: { titel: 'asc' } }                                 â”‚  â”‚
â”‚    â”‚     });                                                                      â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. PRISMA: SQL Query generieren und ausfÃ¼hren                                        â”‚
â”‚                                                                                      â”‚
â”‚    Generiertes SQL (bei Suche nach "Angular" mit Rating >= 4):                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ SELECT                                                                       â”‚  â”‚
â”‚    â”‚     b.id, b.isbn, b.art, b.preis, b.rating, b.lieferbar,                     â”‚  â”‚
â”‚    â”‚     b.schlagwoerter, b.rabatt,                                               â”‚  â”‚
â”‚    â”‚     t.titel, t.untertitel                                                    â”‚  â”‚
â”‚    â”‚ FROM buch.buch b                                                             â”‚  â”‚
â”‚    â”‚ LEFT JOIN buch.titel t ON t.buch_id = b.id                                   â”‚  â”‚
â”‚    â”‚ WHERE                                                                        â”‚  â”‚
â”‚    â”‚     LOWER(t.titel) LIKE LOWER('%Angular%')                                   â”‚  â”‚
â”‚    â”‚     AND b.rating >= 4                                                        â”‚  â”‚
â”‚    â”‚ ORDER BY t.titel ASC;                                                        â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. RESPONSE: GraphQL JSON Antwort                                                   â”‚
â”‚                                                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ {                                                                            â”‚  â”‚
â”‚    â”‚     "data": {                                                                â”‚  â”‚
â”‚    â”‚         "buecher": [                                                         â”‚  â”‚
â”‚    â”‚             {                                                                â”‚  â”‚
â”‚    â”‚                 "id": 1,                                                     â”‚  â”‚
â”‚    â”‚                 "isbn": "978-3-7910-5000-7",                                 â”‚  â”‚
â”‚    â”‚                 "art": "DRUCKAUSGABE",                                       â”‚  â”‚
â”‚    â”‚                 "preis": 39.95,                                              â”‚  â”‚
â”‚    â”‚                 "rating": 5,                                                 â”‚  â”‚
â”‚    â”‚                 "lieferbar": true,                                           â”‚  â”‚
â”‚    â”‚                 "schlagwoerter": ["JAVASCRIPT", "TYPESCRIPT"],               â”‚  â”‚
â”‚    â”‚                 "titel": {                                                   â”‚  â”‚
â”‚    â”‚                     "titel": "Angular Masterclass",                          â”‚  â”‚
â”‚    â”‚                     "untertitel": "Von AnfÃ¤nger zum Profi"                   â”‚  â”‚
â”‚    â”‚                 },                                                           â”‚  â”‚
â”‚    â”‚                 "rabatt": 0.05                                               â”‚  â”‚
â”‚    â”‚             },                                                               â”‚  â”‚
â”‚    â”‚             // ... weitere BÃ¼cher                                            â”‚  â”‚
â”‚    â”‚         ]                                                                    â”‚  â”‚
â”‚    â”‚     }                                                                        â”‚  â”‚
â”‚    â”‚ }                                                                            â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 11. FRONTEND: Ergebnisse anzeigen                                                    â”‚
â”‚                                                                                      â”‚
â”‚    search.component.ts:                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ <!-- Ergebnisliste -->                                                       â”‚  â”‚
â”‚    â”‚ <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">                 â”‚  â”‚
â”‚    â”‚     <div *ngFor="let buch of books" class="col">                             â”‚  â”‚
â”‚    â”‚         <div class="card h-100" (click)="openDetail(buch.id)">               â”‚  â”‚
â”‚    â”‚             <img [src]="getCoverUrl(buch)" class="card-img-top">             â”‚  â”‚
â”‚    â”‚             <div class="card-body">                                          â”‚  â”‚
â”‚    â”‚                 <h5 class="card-title">{{ buch.titel.titel }}</h5>           â”‚  â”‚
â”‚    â”‚                 <p class="card-text">{{ buch.titel.untertitel }}</p>         â”‚  â”‚
â”‚    â”‚                 <div class="d-flex justify-content-between">                 â”‚  â”‚
â”‚    â”‚                     <span>{{ buch.preis | currency:'EUR' }}</span>           â”‚  â”‚
â”‚    â”‚                     <span>{{ getStars(buch.rating) }}</span>                 â”‚  â”‚
â”‚    â”‚                 </div>                                                       â”‚  â”‚
â”‚    â”‚             </div>                                                           â”‚  â”‚
â”‚    â”‚         </div>                                                               â”‚  â”‚
â”‚    â”‚     </div>                                                                   â”‚  â”‚
â”‚    â”‚ </div>                                                                       â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                      â”‚
â”‚    Ergebnis-Anzeige:                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚    â”‚  â”‚  ğŸ“˜ Cover       â”‚  â”‚  ğŸ“™ Cover       â”‚  â”‚  ğŸ“• Cover       â”‚              â”‚  â”‚
â”‚    â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚              â”‚  â”‚
â”‚    â”‚  â”‚ Angular Master  â”‚  â”‚ TypeScript Deep â”‚  â”‚ RxJS in Action  â”‚              â”‚  â”‚
â”‚    â”‚  â”‚ Von AnfÃ¤nger... â”‚  â”‚ Fortgeschritten â”‚  â”‚ Reactive Prog.  â”‚              â”‚  â”‚
â”‚    â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚              â”‚  â”‚
â”‚    â”‚  â”‚ â‚¬39.95  â˜…â˜…â˜…â˜…â˜…   â”‚  â”‚ â‚¬49.95  â˜…â˜…â˜…â˜…â˜†   â”‚  â”‚ â‚¬35.00  â˜…â˜…â˜…â˜…â˜…   â”‚              â”‚  â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Beteiligte Dateien

### Frontend

| Datei                                  | Rolle                              |
| -------------------------------------- | ---------------------------------- |
| `frontend/src/app/search.component.ts` | Suchformular, Ergebnis-Darstellung |
| `frontend/src/app/buch-api.service.ts` | `search()` GraphQL Query           |

### Backend

| Datei                                      | Rolle                 |
| ------------------------------------------ | --------------------- |
| `src/buch/resolver/buch-query.resolver.ts` | GraphQL Query Handler |
| `src/buch/service/buch-read-service.ts`    | Prisma Query Builder  |

---

## ğŸ” Wichtige Konzepte

### Reactive Forms (Angular)

```typescript
// FormGroup erstellen
this.searchForm = this.fb.group({
  titel: [''],
  rating: [null],
});

// Werte auslesen
const values = this.searchForm.value;

// Werte setzen
this.searchForm.patchValue({ titel: 'Angular' });

// Formular zurÃ¼cksetzen
this.searchForm.reset();
```

### GraphQL Variable Mapping

```typescript
// Frontend: Kriterien in GraphQL-Variables umwandeln
private buildSearchVariables(criteria: SearchCriteria): object {
    return {
        suchWerte: {
            ...(criteria.titel && { titel: criteria.titel }),
            ...(criteria.rating && { rating: criteria.rating }),
            ...(criteria.art && { art: criteria.art })
        }
    };
}
```

### Prisma Where-Clause

```typescript
// Backend: Dynamische WHERE-Bedingungen
const where: Prisma.BuchWhereInput = {};

// contains = LIKE '%...%'
where.titel = { titel: { contains: 'Angular', mode: 'insensitive' } };

// gte = >=
where.rating = { gte: 4 };

// equals (implicit)
where.art = 'DRUCKAUSGABE';
```

---

## âš ï¸ Fehlerszenarien

| Fehler           | Ursache                 | Frontend-Reaktion               |
| ---------------- | ----------------------- | ------------------------------- |
| Keine Ergebnisse | Keine BÃ¼cher gefunden   | "Keine BÃ¼cher gefunden" Meldung |
| Netzwerkfehler   | Server nicht erreichbar | Fehler-Alert anzeigen           |
| GraphQL-Fehler   | UngÃ¼ltige Query         | Fehler aus Response extrahieren |

---

_Weiter zu: [03-detailseite-oeffnen.md](03-detailseite-oeffnen.md)_
